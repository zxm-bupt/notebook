TS.23501中提到的NFs和entities数量

| 版本 | 核心网网元数量 | Nx接口数量 |
| ---- | -------------- | ---------- |
| R15  | 19个           | 31个       |
| R16  | 20个           | 46个       |
| R17  | 34个           | 57个       |
| R18  | 34个           | 61个       |
| R19  | 35个           | 67个       |



# 1. 新网元本身的实现挑战

需要从零开始实现这个在 R19 中才定义的新网元。

- **标准理解与设计：** 你必须深入研究 R19 及更高版本的 3GPP 规范，全面理解 EIF 的**功能定义、它在 5GC 架构中的位置、它与其他网元的交互方式，以及它提供的和消费的服务**。这包括所有新增的接口和信令流程。
- **服务化接口（SBI）设计与实现：** 作为 R19 的新网元，EIF 必须遵循 5G 的服务化架构（SBA）原则。你需要精确设计和实现 EIF 对外暴露的基于 RESTful API 的**服务操作、数据模型和资源定义**。
- **内部逻辑开发：** 实现 EIF 的核心业务逻辑，确保它能按照标准要求处理信令、数据和状态。
- **云原生开发与部署：** 新网元通常会按照云原生原则开发，利用容器化（如 Docker）和容器编排（如 Kubernetes）进行部署。这要求你的团队具备相应的云原生技术栈和经验，以实现弹性伸缩、高可用和自动化运维。

# 2. 与现有网元的**互操作性断层**

新增网元也会导致之前网元的修改。在R19中为了以EIF报告相关功耗，SMF修改了Nsmf_EventExposure Service ，增加了多个event。

因此，假设这样一个场景。当前的核心网是R15的标准的网元。如果要在当前的核心网中增加一个EIF网元，该网元为R19定义，那么与EIF交互的网元也应该升级到对应的R19标准定义的网元。

由于3GPP标准在设计时会尽可能考虑到**后向兼容性**，所以R19的SMF可以与R15的AMF进行交互保证基本流程正常运行。但是R19 SMF的新功能将无法在两者之间完全协商或激活。R15 AMF会简单地忽略它不认识的字段或参数。

因此引入新的网元，最大的问题是**现有核心网网元（R15版本定于）对 EIF（R19版本定义） 一无所知**。

- **完全缺乏接口定义：** 在 R15 的标准中，根本没有 EIF 这个概念，因此 R15 版本的 AMF、SMF 等网元**没有定义任何与 EIF 相关的接口或信令流程**。它们根本不知道如何与 EIF 通信，也不知道 EIF 提供了什么服务。
- **无法发现与注册：** R15 的 **NRF** 不会知道 EIF 这个网元类型，EIF 也无法在 R15 NRF 上注册其服务。反过来，R15 的其他网元也无法通过 NRF 发现 EIF。
- **协议解析失败：** 即使你强制让 R15 网元向 EIF 发送或接收消息（例如通过手动配置路由），R15 网元也无法理解 R19 EIF 特有的消息结构或参数，反之亦然，可能导致协议解析失败。

尤其是EIF无法在R15 的NRF上完成注册，其余网元也无法发现EIF。

> 7/23会议记录
> 
> 1. 新增网元 借助agent实现新网元和旧有网元的互操作
> 2. 新终端  + core agent 算网感知

>    1. core agent 负责网络的感知
>    2. 终端agent负责计算需求上报


