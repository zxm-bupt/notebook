# 1. 模式速览

| 网络模式  | 可否链接外网 | 可否来链接主机 | 可否链接其他虚拟机 |
| ----- | ------ | ------- | --------- |
| NAT网络 | 是      | 否(需要配置) | 是         |
| NAT   | 是      | 否(需要配置) | 否         |
| 仅主机网络 | 否      | 是       | 是         |
| 内部网络  | 否      | 否(可以配置) | 是         |
| 桥接网络  | 是      | 是       | 是         |

# 2. NAT网络

NAT网络就是为虚拟机虚拟化出一个NAT路由器。虚拟机的数据包通过NAT路由器与外界进行通信。

该方式的网络结构图如下：

![NAT网络](https://i.loli.net/2021/03/17/X1rzsuQU8MAgVT3.png)

该方式下默认的NAT网关地址为10.0.2.1，默认的的网段是10.0.2.0/24。

使用该方式是需要在VBox中新建一个NAT网络。

# 3. NAT模式

NAT模式和NAT网络模式大体一样，两者的区别在于NAT网络为同一网络下主机配置一个NAT路由器器，而NAT模式为每一个虚拟机配置一个路由器。

NAT模式是VBox的默认网络模式。其默认的网段为10.0.x.0/24。其中x与网卡的次序有关，第一张网卡为2，第二张网卡为3。网关为10.0.x.2，默认地址为10.0.x.15。

下图是NAT模式的网络架构

![NAT模式](https://i.loli.net/2021/03/17/tIc7C9DZ8LygzXo.png)

# 4. NAT模式和NAT网络的端口转发

NAT模式和NAT网络模式都不能链接到宿主机，也不能远程链接。为了可以进行远程链接，可以使用端口转发。

在虚拟机网卡的配置页面中找到端口转发，如下图

![端口转发](https://www.52tect.com/wp-content/uploads/2022/03/93677ac8e9d20aedfcb1eef1b729b99c.png)

然后配置主机的IP(最好不填，这样VBox会采用主机当前IP)，端口号，虚拟机IP，端口号。这样就可以实现主机和虚拟机的链接。

# 5. 内部网络

内部网络是建立一个独立的局域网，在为虚拟机设置内部网络之前需要先在VBox中设置一个内部网络。

内部网络的网段可以在VBox中设置。

# 6. 仅主机网络

仅主机网络的架构如下

![host-only](https://pic2.zhimg.com/80/v2-c42974ee72eeeda26e74c8c764648a61_1440w.webp)

该网络下主机和虚拟可以通信，虚拟机之间也可以通信。默认网段为192.158.56.0/24。主机默认被分配192.168.56.1/24。

# 7. 桥接网络

桥接网络将虚拟机作为一个独立的设备直接接入到主机所在的网段中，就像是一台真正的设备一样。

桥接网络的网络拓扑结构如下。

![Bridge](https://pic4.zhimg.com/80/v2-671bde82b0d177e24df4803813002f5f_1440w.webp)
